# Changelog

Все значимые изменения в проекте будут документироваться в этом файле.

## [Unreleased]

### Added

- Добавлена конфигурация retention для визитов проектов с автоматической очисткой старых данных о визитах
- Реализована функция maxErrors для проектов с автоматическим удалением старых ошибок при превышении лимита
- Добавлена функция предотвращения дубликатов событий с подсчетом количества вхождений
- Интегрирован Upstash Redis для отслеживания онлайн пользователей и аналитики визитов страниц с обновлениями в реальном времени
- Добавлен Upstash Redis адаптер для аутентификации с улучшенным управлением сессиями пользователей
- Реализована функция массового удаления в компоненте LogsTable с обратной связью пользователя и управлением состоянием загрузки

### Changed

- Рефакторинг создания и обновления проектов для использования отдельной сущности ProjectSettings; улучшена целостность данных
- Улучшена модель проекта для включения настроек; обновлены типы API и компонентов для поддержки ProjectWithSettings
- Обновлен Next.js до версии 16.0.10
- Обновлен fast-analytics-js до версии 0.6.3
- Обновлен SDK до версии 0.6.0
- Улучшен README с новыми функциями, включая совместное управление проектами, аналитику визитов страниц и интеграцию Upstash Redis

### Fixed

- Исправлены типы (несколько коммитов объединены)
- Исправлены URL (несколько коммитов объединены)
- Исправлены различные баги (несколько коммитов объединены)
- Исправлено разрешение manageSettings в тестах доступа к проектам
- Исправлена логика маршрутизации в AuthLayout для включения корневого пути как публичного маршрута

### Refactored

- Рефакторинг проверки дубликатов событий: переименована функция checkEventDuplicate в findEventDuplicate с обновлением логики дубликатов для включения подсчета вхождений
- Улучшены тесты событий и проектов с проверками на null для улучшенной обработки ошибок и согласованности
- Обновлена структура mock событий для включения подсчета вхождений и улучшено форматирование в компоненте таблицы демо событий
- Рефакторинг генерации URL API в тестах для согласованности
- Удалены неиспользуемые тесты аутентификации, улучшено форматирование CSS, обновлена маршрутизация страницы событий
- Рефакторинг отображения скриншотов в компоненте EventDetails для улучшенной компоновки и пользовательского опыта
- Реализованы пользовательские стили скроллбара для истории событий и рефакторинг компонентов макета для улучшенной читаемости
- Улучшена аналитика визитов страниц путем изменения логики ключей строк

### Chore

- Удалено неиспользуемое поле secret из конфигурации cron в vercel.json
- Обновлена зависимость fast-analytics-js для использования workspace link и удалены ссылки на версии из pnpm-lock.yaml
- Улучшена документация по отслеживанию онлайн пользователей в README
